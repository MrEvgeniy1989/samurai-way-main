"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[230],{8230:function(t,e,r){r.r(e),r.d(e,{default:function(){return z}});var n=r(1413),s=r(5671),i=r(3144),o=r(136),a=r(5716),l=r(2791),u="Profile_profile__8AvcK",c=r(885),d="ProfileInfo_descriptionBlock__UU8E7",f="ProfileInfo_mainPhoto__moSds",h="ProfileInfo_fileInput__5GOXw",p=r(3445),m=r(184),v=function(t){var e=t.status,r=t.updateStatus,n=(0,l.useState)(!1),s=(0,c.Z)(n,2),i=s[0],o=s[1],a=(0,l.useState)(e),u=(0,c.Z)(a,2),d=u[0],f=u[1];(0,l.useEffect)((function(){e!==d&&f(e)}),[e]);return(0,m.jsx)("div",{children:i?(0,m.jsx)("div",{children:(0,m.jsx)("input",{onChange:function(t){f(t.currentTarget.value)},value:d,onBlur:function(){o(!1),r(d)},autoFocus:!0})}):(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Status: "})," ",(0,m.jsx)("span",{onDoubleClick:function(){o(!0)},children:e||"------"})]})})},x=r(4353),j="Contact_contact__vqn2I",b=function(t){var e=t.contactTitle,r=t.contactValue;return(0,m.jsxs)("div",{className:j,children:[(0,m.jsxs)("b",{children:[e,": "]})," ",r]})},g=r(1117),_=r(704),y=r(9234),P=(0,_.Z)({form:"edit-profile"})((function(t){var e=t.handleSubmit,r=t.error,n=t.profile;return(0,m.jsxs)("form",{onSubmit:e,children:[(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"Save"})}),r&&(0,m.jsx)("div",{className:y.Z.formSummaryError,children:r}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name: "})," ",(0,g.Gr)("Full name","fullName",[],g.II)]}),(0,m.jsxs)("div",{children:["Looking for a job:",(0,g.Gr)("","lookingForAJob",[],g.II,{type:"checkbox"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills: "}),(0,g.Gr)("My professional skills","lookingForAJobDescription",[],g.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "}),(0,g.Gr)("About me","aboutMe",[],g.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts: "})," ",n.contacts&&Object.keys(n.contacts).map((function(t){return(0,m.jsx)("div",{className:"s.contact",children:(0,m.jsxs)("b",{children:[t,": ",(0,g.Gr)(t,"contacts."+t,[],g.II)]})},t)}))]})]})})),Z=function(t){var e,r=t.profile,n=t.status,s=t.updateStatus,i=t.isOwner,o=t.savePhoto,a=t.saveProfile,u=l.useState(!1),j=(0,c.Z)(u,2),b=j[0],g=j[1];if(!r)return(0,m.jsx)(p.p,{});return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:d,children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("img",{src:(null===(e=r.photos)||void 0===e?void 0:e.large)||x,alt:"Avatar",className:f}),i&&(0,m.jsx)("input",{type:"file",className:h,onChange:function(t){t.target.files&&t.target.files.length&&o(t.target.files[0])}})]}),b?(0,m.jsx)(P,{onSubmit:function(t){a(t).then((function(){g(!1)}))},profile:r,initialValues:r}):(0,m.jsx)(k,{profile:r,isOwver:i,goToEditMode:function(){g(!0)}}),(0,m.jsx)(v,{status:n,updateStatus:s})]})})},k=function(t){var e=t.profile,r=t.isOwver,n=t.goToEditMode;return(0,m.jsxs)("div",{children:[r&&(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:n,children:"Edit"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name: "})," ",e.fullName]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job: "}),e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills: "})," ",e.lookingForAJobDescription]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "})," ",e.aboutMe]}),(0,m.jsx)("br",{}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts: "})," ",e.contacts&&Object.keys(e.contacts).map((function(t){return(0,m.jsx)(b,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},S=r(81),I=r(2982),C="MyPosts_postsBlock__UQGsK",w="MyPosts_posts__eHHT8",A="Post_item__3RAd4",N=function(t){return(0,m.jsxs)("div",{className:A,children:[(0,m.jsx)("img",{src:"https://365psd.com/images/istock/previews/9730/97305669-avatar-icon-of-girl-in-a-baseball-cap.jpg",alt:"avatar_icon"}),t.message,(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"like"}),t.likesCount]})]})},F=r(6139),M=r(3079),E=(0,M.D)(10),U=(0,_.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,m.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,m.jsx)("div",{children:(0,m.jsx)(F.Z,{name:"newPostText",component:g.gx,placeholder:"Post message",validate:[M.C,E]})}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"Add post"})})]})})),O=r(364),T=(0,O.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t((0,S.Wl)(e))}}}))((function(t){var e=(0,I.Z)(t.posts).reverse().map((function(t){return(0,m.jsx)(N,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)("h3",{children:"My posts"}),(0,m.jsx)(U,{onSubmit:function(e){t.addPost(e.newPostText)}}),(0,m.jsx)("div",{className:w,children:e})]})})),G=function(t){return(0,m.jsxs)("div",{className:u,children:[(0,m.jsx)(Z,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,saveProfile:t.saveProfile,updateStatus:t.updateStatus}),(0,m.jsx)(T,{})]})},D=r(9271),J=r(7781),q=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(){return(0,s.Z)(this,r),e.apply(this,arguments)}return(0,i.Z)(r,[{key:"refreshProfile",value:function(){var t=+this.props.match.params.userId;t||(null!==this.props.authorizedUserId?t=this.props.authorizedUserId:this.props.history.push("login")),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,r){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)(G,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),r}(l.Component),z=(0,J.qC)((0,O.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:S.et,getStatus:S.lR,updateStatus:S.Nf,savePhoto:S.Ju,saveProfile:S.Ii}),D.EN)(q)},1117:function(t,e,r){r.d(e,{gx:function(){return d},II:function(){return f},Gr:function(){return h}});var n=r(1413),s=r(5987),i=(r(2791),r(9234)),o=r(6139),a=r(184),l=["input","meta"],u=["input","meta"],c=function(t){var e=t.meta,r=e.touched,n=e.error,s=t.children,o=r&&n;return(0,a.jsxs)("div",{className:i.Z.formControl+" "+(o?i.Z.error:""),children:[(0,a.jsx)("div",{children:s}),o&&(0,a.jsx)("span",{children:n})]})},d=function(t){var e=t.input,r=(t.meta,(0,s.Z)(t,l));return(0,a.jsx)(c,(0,n.Z)((0,n.Z)({},t),{},{children:(0,a.jsx)("textarea",(0,n.Z)((0,n.Z)({},e),r))}))},f=function(t){var e=t.input,r=(t.meta,(0,s.Z)(t,u));return(0,a.jsx)(c,(0,n.Z)((0,n.Z)({},t),{},{children:(0,a.jsx)("input",(0,n.Z)((0,n.Z)({},e),r))}))},h=function(t,e,r,s){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,(0,n.Z)({placeholder:t,name:e,validate:r,component:s},i))," ",l]})}},3079:function(t,e,r){r.d(e,{C:function(){return n},D:function(){return s}});var n=function(t){if(!t)return"Field is required"},s=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},9234:function(t,e){e.Z={formControl:"FormsControls_formControl__iw5Wr",error:"FormsControls_error__vUZR7",formSummaryError:"FormsControls_formSummaryError__P7Ljl"}},4353:function(t,e,r){t.exports=r.p+"static/media/user.5faf09a7795d28bf5a2b.png"},885:function(t,e,r){r.d(e,{Z:function(){return s}});var n=r(181);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,s,i=[],o=!0,a=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(l){a=!0,s=l}finally{try{o||null==r.return||r.return()}finally{if(a)throw s}}return i}}(t,e)||(0,n.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=230.b23f09a8.chunk.js.map