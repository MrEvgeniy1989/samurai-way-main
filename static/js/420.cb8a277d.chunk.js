"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[420],{2420:function(n,e,r){r.r(e),r.d(e,{UsersPage:function(){return O}});var i=r(364),t=r(2791),s=r(1413),o=r(4942),u=r(885),l="Paginator_paginator__N-+GW",a="Paginator_pageNumber__eudIE",c="Paginator_selectedPage__xO3SK",d=r(1694),f=r.n(d),h=r(184),g=function(n){for(var e=n.totalItemsCount,r=n.pageSize,i=n.currentPage,s=void 0===i?1:i,d=n.onPageChanged,g=void 0===d?function(n){return n}:d,x=n.portionSize,v=void 0===x?10:x,j=Math.ceil(e/r),m=[],p=1;p<=j;p++)m.push(p);var P=Math.ceil(j/v),b=(0,t.useState)(1),C=(0,u.Z)(b,2),w=C[0],S=C[1],k=(w-1)*v+1,_=w*v;return(0,h.jsxs)("div",{className:l,children:[1!==s&&(0,h.jsx)("button",{onClick:function(){S(1),g(1)},children:"FIRST"}),w>1&&(0,h.jsx)("button",{onClick:function(){S(w-1)},children:"PREV"}),m.filter((function(n){return n>=k&&n<=_})).map((function(n){return(0,h.jsx)("span",{className:f()((0,o.Z)({},c,s===n),a),onClick:function(){g(n)},children:n},n)})),P>w&&(0,h.jsx)("button",{onClick:function(){S(w+1)},children:"NEXT"}),s!==j&&(0,h.jsx)("button",{onClick:function(){S(P),g(j)},children:"LAST"})]})},x="users_userPhoto__zvIv+",v=r(4353),j=r(1523),m=function(n){var e=n.user,r=n.followingInProgress,i=n.unfollow,t=n.follow;return(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(j.OL,{to:"/profile/"+e.id,children:(0,h.jsx)("img",{src:null!==e.photos.small?e.photos.small:v,className:x,alt:"userPhoto"})})}),(0,h.jsx)("div",{children:e.followed?(0,h.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(){i(e.id)},children:"Unfollow"}):(0,h.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(){t(e.id)},children:"Follow"})})]}),(0,h.jsxs)("span",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:e.name}),(0,h.jsx)("div",{children:e.status})]}),(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:"user.location.country"}),(0,h.jsx)("div",{children:"user.location.city"})]})]})]})},p=r(9271),P=r(8331),b=function(n){return n.usersPage.users},C=function(n){return n.usersPage.pageSize},w=function(n){return n.usersPage.currentPage},S=function(n){return n.usersPage.totalUsersCount},k=function(n){return n.usersPage.isFetching},_=function(n){return n.usersPage.followingInProgress},Z=function(n){return n.usersPage.filter},I=r(5705),N=function(){},y=t.memo((function(n){var e=(0,i.v9)(Z);return(0,h.jsx)("div",{children:(0,h.jsx)(I.J9,{enableReinitialize:!0,initialValues:{term:e.term,friend:String(e.friend)},validate:N,onSubmit:function(e,r){var i=r.setSubmitting,t={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};n.onFilterChanged(t),i(!1)},children:function(n){var e=n.isSubmitting;return(0,h.jsxs)(I.l0,{children:[(0,h.jsx)(I.gN,{type:"text",name:"term"}),(0,h.jsxs)(I.gN,{name:"friend",as:"select",children:[(0,h.jsx)("option",{value:"null",children:"All"}),(0,h.jsx)("option",{value:"true",children:"Only followed"}),(0,h.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,h.jsx)("button",{type:"submit",disabled:e,children:"Find"})]})}})})})),z=r(863),F=function(){var n=(0,i.v9)(b),e=(0,i.v9)(S),r=(0,i.v9)(w),o=(0,i.v9)(C),u=(0,i.v9)(Z),l=(0,i.v9)(_),a=(0,i.I0)(),c=(0,p.k6)();(0,t.useEffect)((function(){var n=z.parse(c.location.search.substr(1)),e=r,i=u;switch(n.page&&(e=Number(n.page)),n.term&&(i=(0,s.Z)((0,s.Z)({},i),{},{term:n.term})),n.friend){case"null":i=(0,s.Z)((0,s.Z)({},i),{},{friend:null});break;case"true":i=(0,s.Z)((0,s.Z)({},i),{},{friend:!0});break;case"false":i=(0,s.Z)((0,s.Z)({},i),{},{friend:!1})}a((0,P.D7)(e,o,i))}),[]),(0,t.useEffect)((function(){var n={};u.term&&(n.term=u.term),null!==u.friend&&(n.friend=String(u.friend)),1!==r&&(n.page=String(r)),c.push({pathname:"/developers",search:z.stringify(n)})}),[u,r]);var d=function(n){a((0,P.D7)(n,o,u))},f=function(n){a((0,P.ZN)(n))},x=function(n){a((0,P.fv)(n))};return(0,h.jsxs)("div",{children:[(0,h.jsx)(y,{onFilterChanged:function(n){a((0,P.D7)(1,o,n))}}),(0,h.jsx)(g,{currentPage:r,onPageChanged:d,totalItemsCount:e,pageSize:o}),(0,h.jsx)("div",{children:n.map((function(n){return(0,h.jsx)(m,{user:n,followingInProgress:l,follow:f,unfollow:x},n.id)}))}),(0,h.jsx)(g,{currentPage:r,onPageChanged:d,totalItemsCount:e,pageSize:o})]})},E=r(3445),O=function(n){var e=n.pageTitle,r=(0,i.v9)(k);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:e}),r?(0,h.jsx)(E.p,{}):null,(0,h.jsx)(F,{})]})}},4353:function(n,e,r){n.exports=r.p+"static/media/user.5faf09a7795d28bf5a2b.png"}}]);
//# sourceMappingURL=420.cb8a277d.chunk.js.map