"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[445],{5445:function(t,r,n){n.r(r),n.d(r,{default:function(){return F}});var e=n(1413),s=n(5671),o=n(3144),i=n(136),u=n(5716),a=n(2791),l={},c="ProfileInfo_descriptionBlock__UU8E7",d=n(3445),f=n(885),p=n(184),h=function(t){var r=t.status,n=t.updateStatus,e=(0,a.useState)(!1),s=(0,f.Z)(e,2),o=s[0],i=s[1],u=(0,a.useState)(r),l=(0,f.Z)(u,2),c=l[0],d=l[1];(0,a.useEffect)((function(){r!==c&&d(r)}),[r]);return(0,p.jsxs)("div",{children:["Status:",o?(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(t){d(t.currentTarget.value)},value:c,onBlur:function(){i(!1),n(c)},autoFocus:!0})}):(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){i(!0)},children:r||"---"})})]})},m=function(t){var r=t.profile,n=t.status,e=t.updateStatus;return r?(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("img",{src:null===r||void 0===r?void 0:r.photos.large,alt:"Avatar"}),(0,p.jsx)(h,{status:n,updateStatus:e})]})}):(0,p.jsx)(d.p,{})},v=n(81),x=n(2982),j="MyPosts_postsBlock__UQGsK",Z="MyPosts_posts__eHHT8",g="Post_item__3RAd4",y=function(t){return(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("img",{src:"https://365psd.com/images/istock/previews/9730/97305669-avatar-icon-of-girl-in-a-baseball-cap.jpg",alt:"avatar_icon"}),t.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"like"}),t.likesCount]})]})},_=n(6139),S=n(704),b=n(3079),C=n(1117),P=(0,b.D)(10),k=(0,S.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(_.Z,{name:"newPostText",component:C.gx,placeholder:"Post message",validate:[b.C,P]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),w=n(364),I=(0,w.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(r){t((0,v.Wl)(r))}}}))((function(t){var r=(0,x.Z)(t.posts).reverse().map((function(t){return(0,p.jsx)(y,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(k,{onSubmit:function(r){t.addPost(r.newPostText)}}),(0,p.jsx)("div",{className:Z,children:r})]})})),N=function(t){return(0,p.jsxs)("div",{className:l.profile,children:[(0,p.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,p.jsx)(I,{})]})},U=n(9271),A=n(7781),E=function(t){(0,i.Z)(n,t);var r=(0,u.Z)(n);function n(){return(0,s.Z)(this,n),r.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var t=+this.props.match.params.userId;t||(null!==this.props.authorizedUserId?t=this.props.authorizedUserId:this.props.history.push("login")),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,p.jsx)(N,(0,e.Z)((0,e.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(a.Component),F=(0,A.qC)((0,w.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:v.et,getStatus:v.lR,updateStatus:v.Nf}),U.EN)(E)},1117:function(t,r,n){n.d(r,{gx:function(){return d},II:function(){return f},Gr:function(){return p}});var e=n(1413),s=n(5987),o=(n(2791),n(9234)),i=n(6139),u=n(184),a=["input","meta"],l=["input","meta"],c=function(t){var r=t.meta,n=r.touched,e=r.error,s=t.children,i=n&&e;return(0,u.jsxs)("div",{className:o.Z.formControl+" "+(i?o.Z.error:""),children:[(0,u.jsx)("div",{children:s}),i&&(0,u.jsx)("span",{children:e})]})},d=function(t){var r=t.input,n=(t.meta,(0,s.Z)(t,a));return(0,u.jsx)(c,(0,e.Z)((0,e.Z)({},t),{},{children:(0,u.jsx)("textarea",(0,e.Z)((0,e.Z)({},r),n))}))},f=function(t){var r=t.input,n=(t.meta,(0,s.Z)(t,l));return(0,u.jsx)(c,(0,e.Z)((0,e.Z)({},t),{},{children:(0,u.jsx)("input",(0,e.Z)((0,e.Z)({},r),n))}))},p=function(t,r,n,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,u.jsxs)("div",{children:[(0,u.jsx)(i.Z,(0,e.Z)({placeholder:t,name:r,validate:n,component:s},o))," ",a]})}},3079:function(t,r,n){n.d(r,{C:function(){return e},D:function(){return s}});var e=function(t){if(!t)return"Field is required"},s=function(t){return function(r){if(r.length>t)return"Max length is ".concat(t," symbols")}}},9234:function(t,r){r.Z={formControl:"FormsControls_formControl__iw5Wr",error:"FormsControls_error__vUZR7",formSummaryError:"FormsControls_formSummaryError__P7Ljl"}},885:function(t,r,n){n.d(r,{Z:function(){return s}});var e=n(181);function s(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,s,o=[],i=!0,u=!1;try{for(n=n.call(t);!(i=(e=n.next()).done)&&(o.push(e.value),!r||o.length!==r);i=!0);}catch(a){u=!0,s=a}finally{try{i||null==n.return||n.return()}finally{if(u)throw s}}return o}}(t,r)||(0,e.Z)(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=445.d62071b1.chunk.js.map