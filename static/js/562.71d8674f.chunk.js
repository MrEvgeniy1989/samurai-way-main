"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[562],{7562:function(s,e,r){r.r(e),r.d(e,{default:function(){return as}});var t=r(1413),o=r(5671),n=r(3144),i=r(136),a=r(8557),l=r(2791),c="Profile_profile__8AvcK",d="Profile_avatarBlock__nf3x1",u="Profile_mainPhoto__nnoEH",f="Profile_previewImage__hgrDb",p="Profile_fileInput__LHeTS",h="Profile_customFileUpload__Ztp0O",m="Profile_profileContent__Hi8K9",x=r(885),j="ProfileInfo_descriptionBlock__UU8E7",_="ProfileInfo_profileStatus__cR6yh",v="ProfileInfo_profileData__D97W+",P="ProfileInfo_profileDataContent__7xvIs",b="ProfileInfo_editButton__OTYdw",Z=r(3445),g=r(184),C=function(s){var e=s.status,r=s.updateStatus,t=(0,l.useState)(!1),o=(0,x.Z)(t,2),n=o[0],i=o[1],a=(0,l.useState)(e),c=(0,x.Z)(a,2),d=c[0],u=c[1];(0,l.useEffect)((function(){u(e)}),[e]);return(0,g.jsx)("div",{children:n?(0,g.jsx)("div",{children:(0,g.jsx)("input",{onChange:function(s){u(s.currentTarget.value)},value:d,onBlur:function(){i(!1),r(d)},autoFocus:!0})}):(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Status: "})," ",(0,g.jsx)("span",{onDoubleClick:function(){i(!0)},children:e||"------"})]})})},N="Contact_contact__vqn2I",k=function(s){var e=s.contactTitle,r=s.contactValue;return(0,g.jsxs)("div",{className:N,children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:e}),":"," "]}),r]})},F=r(1117),S=r(704),I=r(9234),y={profileDataForm:"ProfileDataForm_profileDataForm__mMS5H",profileDataFormContent:"ProfileDataForm_profileDataFormContent__stNtA",contacts:"ProfileDataForm_contacts__5TLJr",contactsTitle:"ProfileDataForm_contactsTitle__PYbHA",contact:"ProfileDataForm_contact__30egV"},D=r(5323),A=r(7359),w=(0,S.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,r=s.error,t=s.profile;return(0,g.jsxs)("form",{onSubmit:e,className:y.profileDataForm,children:[(0,g.jsxs)("div",{className:y.profileDataFormContent,children:[r&&(0,g.jsx)("div",{className:I.Z.formSummaryError,children:r}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"Full name"}),":"," "]}),(0,F.Gr)("Full name","fullName",[],F.PI)]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"Looking for a job"}),":"," "]}),(0,F.Gr)("","lookingForAJob",[],F.PI,{type:"checkbox"})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"My professional skills"}),":"," "]}),(0,F.Gr)("My professional skills","lookingForAJobDescription",[],F.Cc)]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"About me"}),":"," "]}),(0,F.Gr)("About me","aboutMe",[],F.Cc)]}),(0,g.jsxs)("div",{className:y.contacts,children:[(0,g.jsxs)("span",{className:y.contactsTitle,children:[(0,g.jsx)("b",{children:"Contacts"}),":"," "]}),Object.keys(t.contacts).map((function(s){return(0,g.jsx)("div",{className:y.contact,children:(0,g.jsxs)("b",{children:[(0,g.jsxs)("span",{children:[s,": "]}),(0,F.Gr)(s,"contacts."+s,[],F.PI)]})},s)}))]})]}),(0,g.jsx)("div",{children:(0,g.jsx)(A.Z,{htmlType:"submit",className:y.saveButton,children:(0,g.jsx)(D.Z,{})})})]})})),T=r(1752),M=function(s){var e=s.profile,r=s.status,t=s.updateStatus,o=s.isOwner,n=s.saveProfile,i=l.useState(!1),a=(0,x.Z)(i,2),c=a[0],d=a[1];if(!e)return(0,g.jsx)(Z.p,{});return(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)("div",{className:_,children:(0,g.jsx)(C,{status:r,updateStatus:t})}),c?(0,g.jsx)(w,{onSubmit:function(s){n(s).then((function(){d(!1)}))},profile:e,initialValues:e}):(0,g.jsx)(O,{profile:e,isOwner:o,goToEditMode:function(){d(!0)}})]})},O=function(s){var e=s.profile,r=s.isOwner,t=s.goToEditMode;return(0,g.jsxs)("div",{className:v,children:[(0,g.jsxs)("div",{className:P,children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"Full name"}),":"," "]}),e.fullName]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"Looking for a job"}),":"," "]}),e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"My professional skills"}),":"," "]}),e.lookingForAJobDescription]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("b",{children:"About me"}),":"," "]}),e.aboutMe]}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(e.contacts).map((function(s){return e.contacts[s]&&(0,g.jsx)(k,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]}),r&&(0,g.jsx)("div",{className:b,children:(0,g.jsx)(A.Z,{onClick:t,children:(0,g.jsx)(T.Z,{})})})]})},U=r(2982),E="MyPosts_postsBlock__UQGsK",G="MyPosts_posts__eHHT8",J="Post_post__8IgOn",H="Post_post_text__qd8oC",B="Post_post_like__lrS0d",L=r(9529),q=r(4399),R=function(s){return(0,g.jsxs)("div",{className:J,children:[(0,g.jsx)(q.C,{icon:(0,g.jsx)(L.Z,{})}),(0,g.jsxs)("div",{className:H,children:[s.message,(0,g.jsxs)("div",{className:B,children:[(0,g.jsx)("span",{children:"like: "}),s.likesCount]})]})]})},V="AddPostForm_addPostForm__hAG5q",z="AddPostForm_addPostForm__inputContainer__2I-ne",K=(0,S.Z)({form:"profile-add-post"})((function(s){return(0,g.jsxs)("form",{onSubmit:s.handleSubmit,className:V,children:[(0,g.jsx)("div",{className:z,children:(0,F.Gr)("Your post","newPostText",[],F.Cc)}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{children:"Add post"})})]})})),Y=l.memo((function(s){var e=(0,U.Z)(s.posts).reverse().map((function(s){return(0,g.jsx)(R,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,g.jsxs)("div",{className:E,children:[(0,g.jsx)("h3",{children:"My posts"}),(0,g.jsx)(K,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,g.jsx)("div",{className:G,children:e})]})})),W=r(364),$=r(4294),Q=(0,W.$j)((function(s){return{posts:s.profilePage.posts}}),{addPost:$.ap.addPostActionCreator})(Y),X=r(4353),ss=r(2533),es=r(166),rs=r(2365),ts=function(s){var e=(0,W.v9)((function(s){return s.profilePage.profile}));return(0,g.jsxs)("div",{className:c,children:[(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)(ss.Z,{className:u,preview:{className:f},src:(null===e||void 0===e?void 0:e.photos.large)||X,alt:"Avatar"}),s.isOwner&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:"file-upload",className:h,children:(0,g.jsx)(rs.Z,{})}),(0,g.jsx)(es.Z,{id:"file-upload",type:"file",className:p,onChange:function(s){s.target.files&&s.target.files.length&&(0,$.Ju)(s.target.files[0])}})]})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)(M,{isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus}),(0,g.jsx)(Q,{})]})]})},os=r(9271),ns=r(7781),is=function(s){(0,i.Z)(r,s);var e=(0,a.Z)(r);function r(){return(0,o.Z)(this,r),e.apply(this,arguments)}return(0,n.Z)(r,[{key:"refreshProfile",value:function(){var s=+this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("login"),s?(this.props.getUserProfile(s),this.props.getStatus(s)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,g.jsx)(ts,(0,t.Z)((0,t.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),r}(l.Component),as=(0,ns.qC)((0,W.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:$.et,getStatus:$.lR,updateStatus:$.Nf,savePhoto:$.Ju,saveProfile:$.Ii}),os.EN)(is)},1117:function(s,e,r){r.d(e,{Cc:function(){return p},PI:function(){return h},Gr:function(){return m}});var t=r(1413),o=r(5987),n=(r(2791),r(9234)),i=r(6139),a=r(4033),l=r(166),c=r(184),d=["input","meta"],u=["input","meta"],f=function(s){var e=s.meta,r=e.touched,t=e.error,o=s.children,i=r&&t;return(0,c.jsxs)("div",{className:n.Z.formControl+" "+(i?n.Z.error:""),children:[(0,c.jsx)("div",{children:o}),i&&(0,c.jsx)("span",{children:t})]})},p=function(s){var e=s.input,r=(s.meta,(0,o.Z)(s,d));return(0,c.jsx)(f,(0,t.Z)((0,t.Z)({},s),{},{children:(0,c.jsx)(a.Z,(0,t.Z)((0,t.Z)({},e),r))}))},h=function(s){var e=s.input,r=(s.meta,(0,o.Z)(s,u));return(0,c.jsx)(f,(0,t.Z)((0,t.Z)({},s),{},{children:(0,c.jsx)(l.Z,(0,t.Z)((0,t.Z)({},e),r))}))};function m(s,e,r,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Z,(0,t.Z)({placeholder:s,name:e,validate:r,component:o},n))," ",a]})}},9234:function(s,e){e.Z={formControl:"FormsControls_formControl__iw5Wr",error:"FormsControls_error__vUZR7",formSummaryError:"FormsControls_formSummaryError__P7Ljl"}},4353:function(s,e,r){s.exports=r.p+"static/media/user.5faf09a7795d28bf5a2b.png"}}]);
//# sourceMappingURL=562.71d8674f.chunk.js.map